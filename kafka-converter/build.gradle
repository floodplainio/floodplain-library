plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java'
    id 'distribution'
    id 'com.github.johnrengelman.shadow'
    id 'maven-publish'
}

def globalConf = rootProject.ext

shadowJar {
    mergeServiceFiles {
        path = 'META-INF/custom'
        exclude 'META-INF/services/javax.xml.stream.*'
    }
}


dependencies {
    Map<String, String> dependencies = globalConf.commonDependencies
    implementation project(':immutable-api')
    implementation project(':immutable-impl')
    implementation project(':replication-api')
    implementation project(':replication-impl')
    implementation project(':replication-json')
    implementation project(':replication-protobuf')
    testCompile dependencies.jUnit
    testRuntime dependencies.slf4jSimple
    compile dependencies.kafkaStreams
    compile dependencies.kafkaConnectApi
}

